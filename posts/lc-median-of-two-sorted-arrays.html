<!doctype html>
<html lang="en">
<head>
  <meta name="google-site-verification" content="nsnfLHRAA2-FGASGfBCEd3XnbtJDOYthzJ_vt2_qkJ8" />
  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Jae Moon | [LC] 4. Median of Two Sorted Arrays</title>
  <meta name="description" content="https://leetcode.com/problems/median-of-two-sorted-arrays/description/">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <meta property="og:title" content="[LC] 4. Median of Two Sorted Arrays">
  <meta property="og:type" content="website">
  <meta property="og:url" content="https://moonjae.github.io//posts/lc-median-of-two-sorted-arrays">
  <meta property="og:description" content="https://leetcode.com/problems/median-of-two-sorted-arrays/description/">
  <meta property="og:site_name" content="Jae Moon">

  <meta name="twitter:card" content="summary">
  <meta name="twitter:url" content="https://moonjae.github.io//posts/lc-median-of-two-sorted-arrays">
  <meta name="twitter:title" content="[LC] 4. Median of Two Sorted Arrays">
  <meta name="twitter:description" content="https://leetcode.com/problems/median-of-two-sorted-arrays/description/">

  
    <meta property="og:image" content="https://moonjae.github.io//assets/og-image-ee46bbc61b334e821e81534b1fd43f3fee6f020ec174b3c2114445695fd48c01.jpg">
    <meta name="twitter:image" content="https://moonjae.github.io//assets/og-image-ee46bbc61b334e821e81534b1fd43f3fee6f020ec174b3c2114445695fd48c01.jpg">
  

  <link href="https://moonjae.github.io//feed.xml" type="application/rss+xml" rel="alternate" title="Jae Moon Last 10 blog posts" />

  

  

    
      <link rel="icon" type="image/x-icon" href="/assets/favicon-light-a98c41efc5ed9fcc06ac664c9e2f7a9b3c3b2e0a52357d221fe382f6f4abc8fc.ico">
      <link rel="apple-touch-icon" href="/assets/apple-touch-icon-light-87d1f2a3a19b1500e5c1626a0492025ca5f7f97d24540dc5900288e92112925a.png">
      <link rel="stylesheet" type="text/css" href="/assets/light-bb1553a18d0f1ccfe1aabc010584c49b4277a88503216b78906ba719e30019c1.css">
    

  

</head>

<body>
  <main>
    <div class="grid grid-centered">
      <div class="grid-cell">
        <nav class="header-nav scrollappear">
  <a href="/" class="header-logo" title="Jae Moon">Jae Moon</a>
  <ul class="header-links">
    
      <li>
        <a href="/about" title="About me">
          <svg xmlns="http://www.w3.org/2000/svg" class="icon-about">
  <use href="/assets/about-ecf154b571ab8034ae00aeed91a3b7ad68db80b46d958753ad6216c919486e88.svg#icon-about" xlink:href="/assets/about-ecf154b571ab8034ae00aeed91a3b7ad68db80b46d958753ad6216c919486e88.svg#icon-about"></use>
</svg>

        </a>
      </li>
    
    
    
    
    
    
    
    
    
    
    
      <li>
        <a href="https://www.linkedin.com/in/jae-moon" rel="noreferrer noopener" target="_blank" title="LinkedIn">
          <svg xmlns="http://www.w3.org/2000/svg" class="icon-linkedin">
  <use href="/assets/linkedin-cdc5c107044324a3dfbea2e9ead15873f8dee304c37d73a046988956b706256e.svg#icon-linkedin" xlink:href="/assets/linkedin-cdc5c107044324a3dfbea2e9ead15873f8dee304c37d73a046988956b706256e.svg#icon-linkedin"></use>
</svg>

        </a>
      </li>
    
    
    
    
    
    
    
    
    
    
    
    
    
    
      <li>
        <a href="/feed.xml" rel="noreferrer noopener" target="_blank" title="RSS">
          <svg xmlns="http://www.w3.org/2000/svg" class="icon-rss">
  <use href="/assets/rss-541ec5cea9cefd10d2fcfec01888f3f231a8829940249835fa7b7b3a12ae0d0d.svg#icon-rss" xlink:href="/assets/rss-541ec5cea9cefd10d2fcfec01888f3f231a8829940249835fa7b7b3a12ae0d0d.svg#icon-rss"></use>
</svg>

        </a>
      </li>
    
    
  </ul>
</nav>



        <article class="article scrollappear">
          <header class="article-header">
            <h1>[LC] 4. Median of Two Sorted Arrays</h1>
            <p>https://leetcode.com/problems/median-of-two-sorted-arrays/description/</p>
            <div class="article-list-footer">
  <span class="article-list-date">
    November 29, 2022
  </span>
  <span class="article-list-divider">-</span>
  <span class="article-list-minutes">
    
    
      3 minute read
    
  </span>
  <span class="article-list-divider">-</span>
  <div class="article-list-tags">
    
      
      <a href="/tag/binary-search" title="See all posts with tag 'Binary-Search'">Binary-Search</a>
    
  </div>
</div>
          </header>

          <div class="article-content">
            <h1 id="problem-statement">Problem Statement</h1>
<p>Given two sorted arrays nums1 and nums2 of size m and n respectively, return the median of the two sorted arrays.
The overall run time complexity should be O(log (m+n)).</p>

<p>Example 1:
Input: nums1 = [1,3], nums2 = [2]
Output: 2.00000
Explanation: merged array = [1,2,3] and median is 2.</p>

<p>Example 2:
Input: nums1 = [1,2], nums2 = [3,4]
Output: 2.50000
Explanation: merged array = [1,2,3,4] and median is (2 + 3) / 2 = 2.5.</p>

<h1 id="intuition">Intuition</h1>
<ul>
  <li>The problem explicitly states that we need to aim for logarithmic runtime so, it can guess that we need something like divide and conquer or binary search.</li>
  <li>Another hint we can use for this is that when we are looking for median of any sort, we know that the number of elemennts that are smaller or equal to the median are equal to the number of elements that are eual to or larger than the median</li>
  <li>Since we know that we need to incorporate binary search technique, we need to decide what we are looking for through that binary search.</li>
</ul>

<p>What we are looking for in the binary search</p>
<ul>
  <li>the number of elements that are smaller than the median in array1</li>
  <li>using the above, we can calculate how many numbers will be on the smaller side in array 2</li>
</ul>

<p>How do we update the range variables</p>
<ul>
  <li>
    <table>
      <tbody>
        <tr>
          <td>letâ€™s say that array1 = smaller: a</td>
          <td>larger : b and array2 = smaller: c</td>
          <td>larger : d</td>
        </tr>
      </tbody>
    </table>
  </li>
  <li>because a is on the smaller side, it would not make sense if a is larger than d which needs to be on the larger side -&gt; update r variable</li>
  <li>because c is on the smaller side, it would not make sense if c is larger than b -&gt; update l variable</li>
</ul>

<h1 id="approach">Approach</h1>
<p>Binary Search</p>
<ol>
  <li>make sure that nums1 is the shorter vector
    <ul>
      <li>if nums1 is the longer vector, this will inevitably create lots of edge cases (the number of smaller variables for nums2 can go out of bound)</li>
    </ul>
  </li>
  <li>create two variables l and r and set them to 0 and size of nums1 respectively</li>
  <li>loop until l &lt;= r</li>
  <li>calculate mid and use that as the number of elements that will be on the smaller side in nums1</li>
  <li>from 4. we can calculate how many numbers need to be on the smaller side for nums2
    <ul>
      <li>because half the numbers in m + n need to be on the smaller side, it would be (m + n) / 2 - the number calculated in step4</li>
    </ul>
  </li>
  <li>get the largest smaller values and the smallest larger values</li>
  <li>if it meets the condition, return answer and there can be two different cases
    <ul>
      <li>when the number of elements is odd, we know that smaller side will have n elements and the larger side will have n + 1 elements and therfore, the median should come from the min of the smallest larger values</li>
      <li>when the number of elements is even, we need to add max largest smaller values and min smallest larger values and get the average</li>
    </ul>
  </li>
  <li>if not, update the search range</li>
</ol>

<h1 id="complexity">Complexity</h1>
<ul>
  <li>Time complexity: O(log n)</li>
  <li>Space complexity: O(1)</li>
</ul>

<h1 id="code">Code</h1>
<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>    double findMedianSortedArrays(vector&lt;int&gt;&amp; nums1, vector&lt;int&gt;&amp; nums2) {
        int m = nums1.size(), n = nums2.size();
        if (n &lt; m) return findMedianSortedArrays(nums2, nums1);
        int l = 0, r = m;
        while (l &lt;= r) {
            int nums1_smaller = l + (r - l) / 2;
            int nums2_smaller = (m + n) / 2 - nums1_smaller;

            int nums1_largest_smaller = nums1_smaller ? nums1[nums1_smaller - 1] : INT_MIN;
            int nums2_largest_smaller = nums2_smaller ? nums2[nums2_smaller - 1] : INT_MIN;
            int nums1_smallest_larger = nums1_smaller != m ? nums1[nums1_smaller] : INT_MAX;
            int nums2_smallest_larger = nums2_smaller != n ? nums2[nums2_smaller] : INT_MAX;
            
            if (nums1_largest_smaller &lt;= nums2_smallest_larger &amp;&amp; nums1_smallest_larger &gt;= nums2_largest_smaller) {
                if ((n + m) % 2) return min(nums1_smallest_larger, nums2_smallest_larger);
                else return (max(nums1_largest_smaller, nums2_largest_smaller) + min(nums1_smallest_larger, nums2_smallest_larger)) / 2.0;
            }
            else if (nums1_largest_smaller &gt; nums2_smallest_larger) {
                r = nums1_smaller - 1;
            }
            else {
                l = nums1_smaller + 1;
            }
        }
        return -1;
    }
</code></pre></div></div>
<h1 id="take-away">Take Away</h1>
<ul>
  <li>when the problem related to median, remember that it is always about balancing how many numbers need to go to left and right side respectively</li>
</ul>

          </div>
          <div class="article-share">
            
            
            <a href="https://twitter.com/home?status=[LC]+4.+Median+of+Two+Sorted+Arrays%20-%20https://moonjae.github.io//posts/lc-median-of-two-sorted-arrays" title="Share on Twitter" rel="noreferrer noopener" target="_blank">
              <svg viewBox="0 0 512 512"><path d="M492 109.5c-17.4 7.7-36 12.9-55.6 15.3 20-12 35.4-31 42.6-53.6 -18.7 11.1-39.4 19.2-61.5 23.5C399.8 75.8 374.6 64 346.8 64c-53.5 0-96.8 43.4-96.8 96.9 0 7.6 0.8 15 2.5 22.1 -80.5-4-151.9-42.6-199.6-101.3 -8.3 14.3-13.1 31-13.1 48.7 0 33.6 17.2 63.3 43.2 80.7C67 210.7 52 206.3 39 199c0 0.4 0 0.8 0 1.2 0 47 33.4 86.1 77.7 95 -8.1 2.2-16.7 3.4-25.5 3.4 -6.2 0-12.3-0.6-18.2-1.8 12.3 38.5 48.1 66.5 90.5 67.3 -33.1 26-74.9 41.5-120.3 41.5 -7.8 0-15.5-0.5-23.1-1.4C62.8 432 113.7 448 168.3 448 346.6 448 444 300.3 444 172.2c0-4.2-0.1-8.4-0.3-12.5C462.6 146 479 129 492 109.5z"/></svg>
            </a>
            <a href="https://www.facebook.com/sharer/sharer.php?u=https://moonjae.github.io//posts/lc-median-of-two-sorted-arrays" title="Share on Facebook" rel="noreferrer noopener" target="_blank">
              <svg viewBox="0 0 512 512"><path d="M288 192v-38.1c0-17.2 3.8-25.9 30.5-25.9H352V64h-55.9c-68.5 0-91.1 31.4-91.1 85.3V192h-45v64h45v192h83V256h56.4l7.6-64H288z"/></svg>
            </a>
          </div>

          
            <div id="disqus_thread" class="article-comments"></div>
            <script src="https://chalk-1.disqus.com/embed.js" async defer></script>
            <noscript>Please enable JavaScript to view the comments.</noscript>
          
        </article>
        <footer class="footer scrollappear">
  <p>
  Hi! I am
  <a href="/about" title="About me">Jae Moon</a>.
</p>
</footer>

      </div>
    </div>
  </main>
  
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-28631876-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());
    gtag('config', 'UA-28631876-6');
  </script>


<script src="/assets/vendor-061d89160864b5ec5aa5148d6410ad4c21190c45402a81ffcf97a76715b05767.js" type="text/javascript"></script>


  <script src="/assets/webfonts-96493456d319d1bf419afdf8701552d4d486fee6afd304897d4fd81eb4e0cc0b.js" type="text/javascript"></script>



  <script src="/assets/scrollappear-e2da8ea567e418637e31266cc5302126eaa79f62a2273739086358b589a89ee6.js" type="text/javascript"></script>


<script src="/assets/application-cfde13ac81ddaf4351b2e739603e2baf688d0fcc9aba613fe62bbb1c7b037fb9.js" type="text/javascript"></script>


</body>
</html>
